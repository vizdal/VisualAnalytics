<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Pursuit of Happyness</title>
		<meta name="description" content="A responsive, magazine-like website layout with a grid item animation effect when opening the content" />
		<meta name="keywords" content="grid, layout, effect, animated, responsive, magazine, template, web design" />
		<meta name="author" content="Codrops" />
		<link rel="shortcut icon" href="../favicon.ico">
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.3.0/css/font-awesome.min.css" />
		<link rel="stylesheet" type="text/css" href="css/style1.css" />
		<link rel="stylesheet" type="text/css" href="css/styles.css" />
		<link rel="stylesheet" type="text/css" href="css\roundslider.min.css"/>
		<script src="js/jquery.min.js"></script>
		<script src="js/modernizr.custom.js"></script>
		<script src="https://d3js.org/d3.v5.min.js"></script>
		<script src="http://d3js.org/queue.v1.min.js"></script>
		<script src="http://d3js.org/topojson.v1.min.js"></script>
	  <script src="js/stackbar.js"></script>
		<script src="js/area.js"></script>
		<script src="js/roundslider.min.js"></script>
		<style>
		.rs-control .rs-range-color {
			background-color: #32BEA6;
		}
		.rs-control .rs-handle {
    	background-color: #02733E;
		}
		</style>
	</head>
	<body>
		<div class="container">
			<button id="menu-toggle" class="menu-toggle"><span>Menu</span></button>
			<div id="theSidebar" class="sidebar">
				<button class="close-button fa fa-fw fa-close"></button>
				<h1><span>Pursuit of</span><span class="title-color"> Happyness</span></h1>
				<div style="text-align: left;padding: 1.5em;display:none;" id="stackedbarOptions" class="optionPane">
					<div class="ptb1">
						<span class="title-color">Year:</span>
					</div>
					<div>
						<select id="year"></select>
					</div>
					<div class="ptb1">
						<span class="title-color">Feature:</span>
					</div>
					<div>
						<select id="attributes"></select>
					</div>
				</div>
				<div style="text-align: left;padding: 1.5em;display:none;" id="bubbleOptions">
					<div class="ptb1">
						<span class="title-color">Y-Axis</span>
					</div>
					<div>
						<select id="menu-y" name = "yAxis"></select>
					</div>
					<div class="ptb1">
						<span class="title-color">X-Axis</span>
					</div>
					<div>
						<select id="menu-x" name="xAxis"></select>
					</div>
				</div>
				<div style="text-align: left;padding: 1.5em;display:none;" id="worldMapOptions">
					<div id="worldmapCircle"></div>
					<div id="wmapplay" style="width: 14%;position: absolute;top: 19em;left: 8em;z-index: 999;background-color:white;"><img id="wmapPlayButtuon" src="img/play-button.svg"/></div>
				</div>
			</div>
			<div id="theGrid" class="main">
				<section class="grid">
					<!--<header class="top-bar">
						<h2 class="top-bar__headline">Latest articles</h2>
						<div class="filter">
							<span>Filter by:</span>
							<span class="dropdown">Popular</span>
						</div>
					</header>-->
					<a class="grid__item" href="#" id="stackedBarParent">
						<h2 class="title title--preview"> A Stacked Bar Plot</h2>
						<div class="loader"></div>
						<span class="category">on Happiness Indicators</span>
						<div class="meta meta--preview">
							<img class="meta__avatar" src="img/authors/1.jpg" alt="author01" />
							<span style="visibility:hidden;" class="meta__date"><i class="fa fa-calendar-o"></i> 9 Apr</span>
							<span style="visibility:hidden;" class="meta__reading-time"><i class="fa fa-clock-o"></i> 3 min read</span>
						</div>
					</a>
					<a class="grid__item" href="#" id="scatterPlotParent">
						<h2 class="title title--preview">Scatter Plot</h2>
						<div class="loader"></div>
						<span class="category">on World Happiness Report</span>
						<div class="meta meta--preview">
							<img class="meta__avatar" src="img/authors/3.png" alt="author02" />
							<span style="visibility:hidden;" class="meta__date"><i class="fa fa-calendar-o"></i> 7 Apr</span>
							<span style="visibility:hidden;" class="meta__reading-time"><i class="fa fa-clock-o"></i> 5 min read</span>
						</div>
					</a>
					<a class="grid__item" href="#" id="wmapParent">
						<h2 class="title title--preview">World Map Visualization</h2>
						<div class="loader"></div>
						<span class="category">World Happiness Report</span>
						<div class="meta meta--preview">
							<img class="meta__avatar" src="img/authors/2.png" alt="author03" />
							<span style="visibility:hidden;" class="meta__date"><i class="fa fa-calendar-o"></i> 6 Apr</span>
							<span style="visibility:hidden;" class="meta__reading-time"><i class="fa fa-clock-o"></i> 2 min read</span>
						</div>
					</a>
					<a class="grid__item" href="#" id="refParent">
						<h2 class="title title--preview">References</h2>
						<div class="loader"></div>
						<span class="category">Citations</span>
						<div class="meta meta--preview">
							<img class="meta__avatar" src="img/authors/4.png" alt="author04" />
							<span style="visibility:hidden;" class="meta__date"><i class="fa fa-calendar-o"></i> 6 Apr</span>
							<span style="visibility:hidden;" class="meta__reading-time"><i class="fa fa-clock-o"></i> 2 min read</span>
						</div>
					</a>
				</section>
				<section class="content">
					<div class="scroll-wrap">
						<article class="content__item">
							<div style="padding-top:4em;padding-left:10em;" class="p1">
								<svg id="chart" width="650" height="400"></svg>
							</div>
						</article>
						<article class="content__item">
							<div  style="padding-top:4em;padding-left:10em;" class="p1">
								<div class="laxis" style="transform:rotate(-90deg);">
								</div>
								<div class="graph-svg" id="graph"></div>
								<div class="rcolor">
								  <select style="display:none;" id="menu-color" name="xAxis"></select>
								</div>
								<div class="raxis"></div>
							</div>
						</article>
						<article class="content__item">
							<div id="worldMapParent">
								<div id="worldMapLoad"></div>
							</div>
						</article>
						<article class="content__item">
							<span class="category category--full">Citations</span>
							<h2 class="title title--full">References</h2>
							<div class="meta meta--full">
								<img class="meta__avatar" src="img/authors/4.png" alt="author04" />
							</div>
						</article>
					</div>
					<button id="closeButton" class="close-button"><i class="fa fa-close"></i><span>Close</span></button>
				</section>
			</div>
		</div><!-- /container -->
		<script src="js/classie.js"></script>
		<script src="js/main.js"></script>
		<script src="js/scatterPlot.js"></script>
		<script src="js/worldmap.js"></script>
		<script>
			$("#closeButton").on('click',function(event){
					$("#bubbleOptions").hide();
					$("#stackedbarOptions").hide();
					$("#worldMapOptions").hide();
					$("#worldMapLoad").html("");
			});
			$("#stackedBarParent").on('click',function(event){
				$("#stackedbarOptions").show();
			});
			$("#wmapParent").on('click',function(event){
				$("#worldMapOptions").show();
				$("#worldmapCircle").css({'position':'absolute','top':'15em','left':'4em'})
				$("#worldmapCircle").roundSlider({
    				sliderType: "min-range",
    				value: 2018,
    				min: "2005",
    				max: "2018",
    				handleSize: "+1",
    				drag: function (args) {
      				readAndStart(args['value']);
    				},
						change:function(args){
							readAndStart(args['value']);
						}
				});
			});
			$("#wmapplay").on('click',function(){
				let src = document.getElementById('wmapPlayButtuon');
				if(src.getAttribute("src").includes('play-button')){
						let image = window.document.createElement('img');
						image.setAttribute("src","img/pause-button.svg");
						image.setAttribute("id","wmapPlayButtuon")
						image.setAttribute("style","width:100%;")
						src.parentNode.replaceChild(image,src);
						startIteration();
				} else {
					let image = window.document.createElement('img');
					image.setAttribute("src","img/play-button.svg");
					image.setAttribute("id","wmapPlayButtuon")
					image.setAttribute("style","width:100%;")
					src.parentNode.replaceChild(image,src);
					stopIteration();
				}
			});
		</script>
	</body>
</html>
